{% load i18n %}

<c-layout page_title='{% translate "Transactions" %}'>
  <c-forms.container hx-trigger="search" hx-get="{{ index_url }}" hx-target="#{{ container_id }}" hx-include="*[data-htmx-include]" id="{{ search_filterset_form_id }}" class="w-full" data-htmx-include>
    <c-inputs.input :field="search_filterset.form.q" placeholder='{% translate "Search Transactions" %}' type="search">
      <c-tablericon.search class="size-5" />
    </c-inputs.input>
  </c-forms.container>
  <div class="my-2">
    <table class="w-full table-auto"
           x-data="{checkAll: false}">
      <thead>
        <tr>
          <c-table.th>
            <input type="checkbox"
                   name="check-all"
                   id="check-all"
                   x-model="checkAll" />
          </c-table.th>
          <c-table.th>
            {% translate "Date" %}
          </c-table.th>
          <c-table.th>
            {% translate "Customer" %}
          </c-table.th>
          <c-table.th>
            {% translate "Amount" %}
          </c-table.th>
          <c-table.th>
            {% translate "Notes" %}
          </c-table.th>
          {% if perms.balance.view_deleted_transactions %}
            <c-table.th>
              {% translate "Is Deleted" %}
            </c-table.th>
          {% endif %}
          <c-table.th>
            {% translate "Net" %}
          </c-table.th>
        </tr>
      </thead>
      <tbody id="{{ container_id }}">
        <c-balance.transaction.partial-list />
      </tbody>
    </table>
  </div>
</c-layout>
